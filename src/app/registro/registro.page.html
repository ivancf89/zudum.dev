<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/login"></ion-back-button>
    </ion-buttons>
    <ion-title>Zudum - Registro</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  
  <div class="login-container">
    <ion-text color="primary">
      <h1>Crear Cuenta</h1>
    </ion-text>
    <ion-text color="medium">
      <p>Únete a Zudum y registra tus series</p>
    </ion-text>

    <form [formGroup]="registroForm" (ngSubmit)="registrar()">
      <ion-list>
        
        <ion-item>
          <ion-input
            label="Email"
            labelPlacement="stacked"
            type="email"
            placeholder="tu@correo.com"
            formControlName="email" 
            email="true"
            clearInput="true"
          ></ion-input>
        </ion-item>
        <ion-note 
          slot="error" 
          *ngIf="f['email'].invalid && f['email'].touched"
          class="ion-padding-start"
        >
          <div *ngIf="f['email'].errors?.['required']">El email es obligatorio.</div>
          <div *ngIf="f['email'].errors?.['email']">El formato del email no es válido.</div>
        </ion-note>


        <ion-item class="ion-margin-top">
          <ion-input
            label="Contraseña"
            labelPlacement="stacked"
            type="password"
            placeholder="Contraseña (Mín. 6)"
            formControlName="password"
            clearInput="true"
          ></ion-input>
        </ion-item>
        <ion-note 
          slot="error" 
          *ngIf="f['password'].invalid && f['password'].touched"
          class="ion-padding-start"
        >
          El campo contraseña es obligatorio.
        </ion-note>

        <ion-item class="ion-margin-top">
          <ion-input
            label="Repetir Contraseña"
            labelPlacement="stacked"
            type="password"
            placeholder="Repite la contraseña"
            formControlName="confirmPassword"
            clearInput="true"
          ></ion-input>
        </ion-item>
        <ion-note 
          slot="error" 
          *ngIf="f['confirmPassword'].errors?.['passwordMismatch'] && f['confirmPassword'].touched"
          class="ion-padding-start"
        >
          Las contraseñas no coinciden.
        </ion-note>
        <ion-note 
          slot="error" 
          *ngIf="f['confirmPassword'].errors?.['required'] && f['confirmPassword'].touched"
          class="ion-padding-start"
        >
          Debes confirmar la contraseña.
        </ion-note>

      </ion-list>

      <ion-button expand="block" type="submit" class="ion-margin-top">
        Registrar
      </ion-button>

    </form>
    
  </div>
</ion-content>